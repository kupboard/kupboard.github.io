(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7468],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return s},kt:function(){return k}});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=r.createContext({}),d=function(e){var t=r.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=d(e.components);return r.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),c=d(a),k=n,m=c["".concat(u,".").concat(k)]||c[k]||p[k]||l;return a?r.createElement(m,i(i({ref:t},s),{},{components:a})):r.createElement(m,i({ref:t},s))}));function k(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var d=2;d<l;d++)i[d]=a[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},5204:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return i},metadata:function(){return o},toc:function(){return u},default:function(){return s}});var r=a(2122),n=a(9756),l=(a(7294),a(3905)),i={},o={unversionedId:"getstarted/kcloud",id:"getstarted/kcloud",isDocsHomePage:!1,title:"KT Cloud",description:"Set up Kupboard clusters",source:"@site/docs/getstarted/kcloud.md",sourceDirName:"getstarted",slug:"/getstarted/kcloud",permalink:"/docs/getstarted/kcloud",editUrl:"https://github.com/kupboard/kupboard-docs/edit/main/docs/getstarted/kcloud.md",version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Naver Cloud Platform",permalink:"/docs/getstarted/ncloud"},next:{title:"Data",permalink:"/docs/getstarted/data"}},u=[{value:"Set up Kupboard clusters",id:"set-up-kupboard-clusters",children:[]},{value:"Introduction",id:"introduction",children:[]},{value:"G1,G2 Instance",id:"g1g2-instance",children:[]},{value:"Firewall",id:"firewall",children:[]},{value:"SSH Key",id:"ssh-key",children:[]},{value:"Server Configuration Result",id:"server-configuration-result",children:[{value:"G1,G2 platform",id:"g1g2-platform",children:[]},{value:"SSH Key Pair",id:"ssh-key-pair",children:[]},{value:"Server",id:"server",children:[]},{value:"Networking",id:"networking",children:[]}]},{value:"Data",id:"data",children:[]}],d={toc:u};function s(e){var t=e.components,i=(0,n.Z)(e,["components"]);return(0,l.kt)("wrapper",(0,r.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h3",{id:"set-up-kupboard-clusters"},"Set up Kupboard clusters"),(0,l.kt)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/OukgfCODFMk",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),(0,l.kt)("h2",{id:"introduction"},"Introduction"),(0,l.kt)("p",null,"This section describes how to create and configure G1,G2 instances to build a kupboard cluster on KT Cloud."),(0,l.kt)("h2",{id:"g1g2-instance"},"G1,G2 Instance"),(0,l.kt)("p",null,"Kupboard clusters can be configured in a variety of ways depending on the service and application. In this example, we will create 1 server for the admin cluster, 1 server for the gateway cluster, and 4 servers for the service cluster."),(0,l.kt)("p",null,"You need to create six G1,G2 instances as in the table below. OS for all instances must be Ubuntu18.04 or 20.04. The size of additional disks should change depending on services or packages installed on the service cluster"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Cluster"),(0,l.kt)("th",{parentName:"tr",align:null},"Instance Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Quantity"),(0,l.kt)("th",{parentName:"tr",align:null},"Boot Disk"),(0,l.kt)("th",{parentName:"tr",align:null},"Additional Disk"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Admin"),(0,l.kt)("td",{parentName:"tr",align:null},"2 vCore 4G <"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"50GB"),(0,l.kt)("td",{parentName:"tr",align:null},"N/A")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Gateway"),(0,l.kt)("td",{parentName:"tr",align:null},"2 vCore 4G <"),(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"50GB"),(0,l.kt)("td",{parentName:"tr",align:null},"N/A")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Service"),(0,l.kt)("td",{parentName:"tr",align:null},"2 vCore 8G <"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"50GB"),(0,l.kt)("td",{parentName:"tr",align:null},"50GB <")))),(0,l.kt)("h2",{id:"firewall"},"Firewall"),(0,l.kt)("p",null,"Create a firewall for a subnet."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Cluster"),(0,l.kt)("th",{parentName:"tr",align:null},"Inbound"),(0,l.kt)("th",{parentName:"tr",align:null},"Source"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"All"),(0,l.kt)("td",{parentName:"tr",align:null},"22"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0.0.0/0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"1 - 65535"),(0,l.kt)("td",{parentName:"tr",align:null},"Subnet")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Admin"),(0,l.kt)("td",{parentName:"tr",align:null},"80,443"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0.0.0/0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Gateway"),(0,l.kt)("td",{parentName:"tr",align:null},"80,443"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0.0.0/0")))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Cluster"),(0,l.kt)("th",{parentName:"tr",align:null},"Outbound"),(0,l.kt)("th",{parentName:"tr",align:null},"Destination"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"All"),(0,l.kt)("td",{parentName:"tr",align:null},"1 - 65535"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0.0.0/0")))),(0,l.kt)("h2",{id:"ssh-key"},"SSH Key"),(0,l.kt)("p",null,"In order to set up the servers, you need a SSH key pair to enable automatic ",(0,l.kt)("inlineCode",{parentName:"p"},"root")," account login to the individual server. KT Cloud provides the ",(0,l.kt)("inlineCode",{parentName:"p"},"SSH Key Pair")," service whereby a new SSH key pair is generated. The private key is downloaded into the local PC. The public key is mapped into a server as it is created."),(0,l.kt)("p",null,"The downloaded private key is moved into the local PC\u2019s ",(0,l.kt)("inlineCode",{parentName:"p"},"data/certs"),". It should be renamed to ",(0,l.kt)("inlineCode",{parentName:"p"},"ssh.pem"),". You can log into the server like below."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"$ ssh -i ssh.pem root@<server-ip>\n")),(0,l.kt)("p",null,"At the user initialization stage of kupboard setup, the ",(0,l.kt)("inlineCode",{parentName:"p"},"root")," account login is automatically done."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"$ kupboard setup --init-user --root-username root\n")),(0,l.kt)("h2",{id:"server-configuration-result"},"Server Configuration Result"),(0,l.kt)("h3",{id:"g1g2-platform"},"G1,G2 platform"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("img",{alt:"ncloud-install-01",src:a(6430).Z}))))),(0,l.kt)("h3",{id:"ssh-key-pair"},"SSH Key Pair"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("img",{alt:"ncloud-install-02",src:a(5385).Z}))))),(0,l.kt)("h3",{id:"server"},"Server"),(0,l.kt)("p",null,"The password of each server is delivered with a short-lived alarm the moment the server is created. The account is ",(0,l.kt)("inlineCode",{parentName:"p"},"root"),". But, the password is not required to log into the server once the public key of ",(0,l.kt)("inlineCode",{parentName:"p"},"SSH Key Pair")," is mapped into the server as it is created."),(0,l.kt)("h4",{id:"select-ssh-key-pair"},"Select SSH Key Pair"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("img",{alt:"kcloud-select-ssh-keypair",src:a(3143).Z}))))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("img",{alt:"kcloud-server",src:a(491).Z}))))),(0,l.kt)("h3",{id:"networking"},"Networking"),(0,l.kt)("p",null,"Each public IP is mapped into a server, respectively."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("img",{alt:"kcloud-networking",src:a(7534).Z}))))),(0,l.kt)("h2",{id:"data"},"Data"),(0,l.kt)("p",null,"Move to ",(0,l.kt)("a",{parentName:"p",href:"/docs/getstarted/data"},"Data")))}s.isMDXComponent=!0},6430:function(e,t,a){"use strict";t.Z=a.p+"assets/images/kcloud-g1g2-platform-b680959748e6e8be7881a6dc5641a696.png"},7534:function(e,t,a){"use strict";t.Z=a.p+"assets/images/kcloud-networking-8517485d1e1d18b6471421dd4b3a7e73.png"},3143:function(e,t,a){"use strict";t.Z=a.p+"assets/images/kcloud-select-ssh-keypair-de44eea1db97c92cbf8e218fd5604f66.png"},491:function(e,t,a){"use strict";t.Z=a.p+"assets/images/kcloud-server-384742cdbfa903383c8aacd6d7517d36.png"},5385:function(e,t,a){"use strict";t.Z=a.p+"assets/images/kcloud-ssh-keypair-ae27eb94f0cf138a043421a23f7d03f5.png"}}]);